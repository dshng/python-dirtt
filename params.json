{"name":"Python-dirtt","tagline":"Directory Tree Templater","body":"# Dirtt - Directory Tree Templater\r\n\r\n## What It Does\r\n\r\n`python-dirtt` is a standalone tool and library used to generate directory and file structures from xml templates that describe repeatedly used filesystem layouts such as complex project structures.\r\n\r\nThe general problem being tackled is one of inconsistent directory structures for visual effects projects, from a lack of industry standards, resulting in\r\nlost assets, security risks, and most importantly wasted resources from inefficient production.\r\n\r\n`python-dirtt` doesn't solve that problem as a whole. It provides a command-line tool and python library that allow for quick creation of complex structures from XML templates that define directory, file and link structures as well as filesystem attributes and can reference Cheetah templates for static file customizations. The specifics of how it gets used as a tool are generic enough that it can be used for any similar task.\r\n\r\nThe package doesn't supply specific tools to do this but does include a simple example python shell script called `mkdirt`. It's basic usage is:\r\n\r\n    mkdirt --template file:///path/to/xmls/TEMPLATE.xml --verbose --interactive\r\n\r\nThe templates that are included with `python-dirtt` provide one generic example of how to use the tools. They use a simple template language that is part of the package to create a solution that is quick to customize and rapid to deploy. These can easily be edited to create working templates tailored to your needs.\r\n\r\n\r\n## Contributing\r\n\r\nAll kinds of contributions are welcome - code, tests, documentation, bug reports, ideas, etc.\r\n\r\nCurrently we need to implement the following:\r\n\r\n* better testing\r\n* better error checking of values and process\r\n* modular exceptions\r\n* better documentation\r\n\r\n## Forking through GitHub\r\n\r\nFirst of all, you need to fork from the official repository, which is [https://github.com/mogga/python-dirtt](https://github.com/mogga/python-dirtt).\r\n\r\nLog in to GitHub, go to the python-dirtt repository page, follow the fork link,\r\nwait for GitHub to copy the repository and then clone your fork, like:\r\n\r\n    git clone https://github.com/YOUR_USER_NAME/python-dirtt\r\n\r\nNow you can change whatever you want, commit, push to your fork and when your contribution is done, follow the pull request link and send us a pull request explaining what you did and why.\r\n\r\n\r\n## Running the tests\r\n\r\npython-dirtt's test suite is small and not comprehensive, but it does accomplish what we need it to do. Let us know if we're missing something so we can add that to the list of fixes and tests.\r\n\r\n\r\n## Documentation\r\n\r\nThe following is a somewhat brief documentation for what is an internal tool we really should document a bit better.\r\n\r\nIn general, it should be understood that python-dirtt doesn't validate your input data and error checking is not nearly as robust as it should be. It's a pretty simple tool by design so that it can be generically used for different front ends that do all their checks and balances first. Eventually I'm sure we'll add exceptions and handling thereof but for now it does what we need it to do and we're aware of the limitations in it's exception handling.\r\n\r\n### Installation\r\n\r\nOnce downloaded it should be as easy as typing:\r\n\r\n    python setup.py install\r\n\r\nand then to get the example templates and needed dtd locally:\r\n\r\n    python setup.py install_data\r\n\r\nTry it out in a python-virtualenv environment to play around and it should make sense quickly.\r\n\r\nIf you want to install to a custom location here's how I do it:\r\n\r\n    pip install --install-option=\"--install-dir=/studio/tools/lib/python2.7/site-packages\" \\\r\n    -e git+git@github.com:mogga/python-dirtt.git#egg=python-dirtt``\r\n\r\nThat will download and do the package build as necessary.\r\n\r\n\r\n### XML Schema & Templates\r\n\r\nWhether using the library, the command line tool, or customizing that same tool for your own purposes, the first thing to do is move the dirtt.dtd somewhere the python xml libraries can access. *(you can use the html link in the sample templates but it will be slow given the validation that\r\nhappens)* A shared mount makes sense.\r\n\r\nNext as you customize the templates you'll need to change the reference to this file using urllib style references. Eg.\r\n\r\n    file:///shared/drive/dtds/dirtt.dtd\r\n\r\nor\r\n\r\n    http:///intranet/dtds/dirtt.dtd\r\n\r\nNow write your template using one of the samples. The variables you can define are below:\r\n\r\n`name`:\r\n\tThis sounds important but does basically nothing. It's a human readable name for the XML markup.\r\n\tThe more important `basename` variable is described below.\r\n\r\n`id`:\r\n\tyou can assign a static id to an element in your template and then refer to it to create symbolic links using the `idref` variable.\r\n\r\n`idref`\r\n\tUse this to reference an id in the same document and create a symbolic link. This value supersedes a dirname/basename combination when creating symbolic links. I prefer the latter though as I can see a little more clearly what the link is I'm creating. It might make sense in some situations to use IDs if you alot of links defined programatically.\r\n\r\n`basename`:\r\n\tthis is the directory or file to be created. It's the relative path or filename.\r\n\tEg. `subdir/folder` or `default.mel`\r\n\r\n`dirname`:\r\n\tthis is the absolute path to the parent directory. For the top-level dirtt element it's required; for all others it's optional. It's useful for creating one off elements outside of the tree.\r\n\r\n`perms`:\r\n\tThis is the posix style permission string that defaults to `02775`\r\n\r\n`username`:\r\n\tThis is the owner `username` locally that will programatically be converted to `uid`.\r\n\tThis allows for flexible gids based on a static name if necessary.\r\n\t(My testing environment is different so this makes it easier for local testing)\r\n\r\n`group`:\r\n\tThis is the `groupname` locally that will programatically be converted to `gid`.\r\n\r\nLook at the examples and even try them out locally in your own test environment.\r\n\r\nThe template placeholders are defined using enclosing double curly braces.\r\nEg.\r\n\r\n    {{placeholder}}\r\n\r\nThe base class does take template variables as a python dictionary but this is something you'll need to explicitly define in your python code. The sample command line tool shows a slightly crude way of doing this by prompting for values from the user. This is again to make it as generic as possible. I prefer to have the logic and error-checking in the front end as there's a ton\r\nof different scenarios that this could be used for.\r\n\r\nThe templating class is a direct lift from PasteScript, a much bigger python package and really only in there because I didn't want to have dependencies to Cheetah or need them really.\r\n\r\nThe sample templates represent a pipeline tree derived from a number of different studios I've worked at. I've been a part of many directory tree debates over the years so it's only an example. Don't ask me for an opinion. For some reason, it's a topic of conversation that becomes very personal with supervisors, artists, TDs, engineers, etc. and because everyone has their own way of doing things, there's really no **best practice** model aside from having some system and sticking to it and focusing on automation so the\r\nend user interaction becomes a transparent, search-free experience. Some people like `products`, others like `show/shot`, others even like to just focus mundane things like `CamelCase`, `UPPERCASE` or `lowercase`.\r\n\r\n\r\n## Command Line Tool\r\n\r\nThe command line tool was written more to test the library itself but there's no reason it can't be used as it is. It doesn't have alot of the error checking it probably should have.\r\n\r\nThe basic usage is:\r\n\r\n    mkdirt --template file:///path/to/xmls/TEMPLATE.xml --verbose --interactive\r\n\r\nThis command will parse the template file which needs to be defined using a urllib style string. It can be a file accessible locally or a url. So the template itself could be something that is static data or dynamically generated. The output will be verbose with the verbose flag. Interactive output as well with the interactive flag so if you create your templates using the built-in template language this tool will ask you for values to replace the placeholders.\r\n\r\n\r\n## Links\r\n\r\nHere's the links:\r\n\r\n* [GitHub](https://github.com/mogga/python-dirtt)\r\n* Report [Issues](https://github.com/robmoggach/python-dirtt/issues)\r\n\r\n## Status and License\r\n\r\npython-dirtt was written by [Rob Moggach](http://github.com/robmoggach)\r\nand is  maintained by a [group of developers](https://github.com/robmoggach/python-dirtt/AUTHORS.md).\r\nIt is licensed under an [MIT-style permissive license](https://github.com/robmoggach/python-dirtt/LICENSE.md).\r\n\r\nYou can install it with ``easy_install dirtt``.\r\n\r\n(c) 2015 Robert Moggach and contributors.\r\n\r\nLicensed under the [MIT license](http://www.opensource.org/licenses/mit-license.php)\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}