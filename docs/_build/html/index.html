
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>python-dirtt - Directory Tree Templater &mdash; python-dirtt v0.1.3 documentation</title>
    <link rel="stylesheet" href="nature.css" type="text/css" />
    <link rel="stylesheet" href="pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="underscore.js"></script>
    <script type="text/javascript" src="doctools.js"></script>
    <link rel="top" title="python-dirtt v0.1.3 documentation" href="#" />
    <link rel="next" title="Changes &amp; News" href="news.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="news.html" title="Changes &amp; News"
             accesskey="N">next</a> |</li>
        <li><a href="#">python-dirtt v0.1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="python-dirtt-directory-tree-templater">
<h1><a class="toc-backref" href="#id1">python-dirtt - Directory Tree Templater</a><a class="headerlink" href="#python-dirtt-directory-tree-templater" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference external" href="https://github.com/mogga/python-dirtt/issues/">Bugs</a></li>
</ul>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#python-dirtt-directory-tree-templater" id="id1">python-dirtt - Directory Tree Templater</a><ul>
<li><a class="reference internal" href="#status-and-license" id="id2">Status and License</a></li>
<li><a class="reference internal" href="#what-it-does" id="id3">What It Does</a></li>
<li><a class="reference internal" href="#contributing" id="id4">Contributing</a><ul>
<li><a class="reference internal" href="#forking-through-github" id="id5">Forking through Github</a></li>
<li><a class="reference internal" href="#running-the-tests" id="id6">Running the tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation" id="id7">Documentation</a><ul>
<li><a class="reference internal" href="#installation" id="id8">Installation</a></li>
<li><a class="reference internal" href="#xml-schema-templates" id="id9">XML Schema &amp; Templates</a></li>
<li><a class="reference internal" href="#command-line-tool" id="id10">Command Line Tool</a></li>
</ul>
</li>
<li><a class="reference internal" href="#links" id="id11">Links</a></li>
</ul>
</li>
</ul>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="news.html">Changes &amp; News</a></li>
</ul>
</div>
<div class="section" id="status-and-license">
<h2><a class="toc-backref" href="#id2">Status and License</a><a class="headerlink" href="#status-and-license" title="Permalink to this headline">¶</a></h2>
<p>python-dirtt was written by Rob Moggach, for <a class="reference external" href="http://dashing.tv">Dashing Collective Inc.</a>
and is  maintained by a <a class="reference external" href="https://github.com/mogga/python-dirtt/raw/master/AUTHORS.txt">group of developers</a>.
It is licensed under an <a class="reference external" href="https://github.com/mogga/python-dirtt/raw/master/LICENSE.txt">MIT-style permissive license</a>.</p>
<p>You can install it with <tt class="docutils literal"><span class="pre">easy_install</span> <span class="pre">dirtt</span></tt>.</p>
<ol class="loweralpha simple" start="3">
<li>2012 Robert Moggach and contributors.</li>
</ol>
<p>Licensed under the MIT license: <a class="reference external" href="http://www.opensource.org/licenses/mit-license.php">http://www.opensource.org/licenses/mit-license.php</a></p>
</div>
<div class="section" id="what-it-does">
<h2><a class="toc-backref" href="#id3">What It Does</a><a class="headerlink" href="#what-it-does" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">python-dirtt</span></tt> is a standalone tool and library used to generate
directory and file structures from xml templates that describe
repeatedly used filesystem layouts such as complex project structures.</p>
<p>The general problem being tackled is one of inconsistent directory structures
for visual effects projects, from a lack of industry standards, resulting in
lost assets, security risks, and most importantly wasted resources from inefficient production.</p>
<p><tt class="docutils literal"><span class="pre">python-dirtt</span></tt> doesn&#8217;t solve that problem as a whole. It provides a command-line
tool and python library that allow for quick creation of complex structures
from XML templates that define directory, file and link structures as well as
filesystem attributes and reference Cheetah templates for static file
customizations. The specifics of how it gets used as a tool are generic enough
that it can be used for any similar task.</p>
<p>The basic usage is:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">mkdirt</span> <span class="pre">--template</span> <span class="pre">file:///path/to/xmls/TEMPLATE.xml</span> <span class="pre">--verbose</span> <span class="pre">--interactive</span></tt></div></blockquote>
<p>The templates that come with <tt class="docutils literal"><span class="pre">python-dirtt</span></tt> provide one generic example of how to use
the tools. They use a simple template language that is part of the package to
create a solution that is quick to customize and rapid to deploy.
These can easily be edited to create working templates tailored to your needs.</p>
</div>
<div class="section" id="contributing">
<h2><a class="toc-backref" href="#id4">Contributing</a><a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h2>
<p>All kinds of contributions are welcome - code, tests, documentation, bug reports, ideas, etc.</p>
<p>Currently we need to implement the following:</p>
<p>-better testing
-better error checking of values and process
-modular exceptions
-better documentation</p>
<div class="section" id="forking-through-github">
<h3><a class="toc-backref" href="#id5">Forking through Github</a><a class="headerlink" href="#forking-through-github" title="Permalink to this headline">¶</a></h3>
<p>First of all, you need to fork from the official repository, which is
<a class="reference external" href="https://github.com/mogga/python-dirtt">https://github.com/mogga/python-dirtt</a>.</p>
<p>Log in to Github, go to the dirtt repository page, follow the fork link,
wait for Github to copy the repository and then clone your fork, like:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/YOUR_USER_NAME/python-dirtt</span></tt></div></blockquote>
<p>Now you can change whatever you want, commit, push to your fork and when
your contribution is done, follow the pull request link and send us a
request explaining what you did and why.</p>
</div>
<div class="section" id="running-the-tests">
<h3><a class="toc-backref" href="#id6">Running the tests</a><a class="headerlink" href="#running-the-tests" title="Permalink to this headline">¶</a></h3>
<p>python-dirtt&#8217;s test suite is small and not yet at all comprehensive, but we aim
to grow it. That&#8217;s not true... It plain doesn&#8217;t exist yet. Anyone care to contribute?</p>
</div>
</div>
<div class="section" id="documentation">
<h2><a class="toc-backref" href="#id7">Documentation</a><a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>The following is a somewhat brief documentation for what is an internal tool we really
should document a bit better.</p>
<p>In general, it should be understood that python-dirtt doesn&#8217;t validate your input data
and error checking is not nearly as robust as it should be. It&#8217;s a pretty simple tool
by design so that it can be generically used for different front ends that do all their
checks and balances first. Eventually I&#8217;m sure we&#8217;ll add exceptions and handling thereof
but for now it does what we need it to do and we&#8217;re aware of the limitations in it&#8217;s
exception handling.</p>
<div class="section" id="installation">
<h3><a class="toc-backref" href="#id8">Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<p>Once downloaded it should be as easy as typing:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></tt></div></blockquote>
<p>and then to get the example templates and needed dtd locally:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install_data</span></tt></div></blockquote>
<p>Try it out in a python-virtualenv environment to play around and it should make sense quickly.</p>
</div>
<div class="section" id="xml-schema-templates">
<h3><a class="toc-backref" href="#id9">XML Schema &amp; Templates</a><a class="headerlink" href="#xml-schema-templates" title="Permalink to this headline">¶</a></h3>
<p>Whether using the library, the command line tool, or customizing that same tool for your own
purposes, the first thing to do is move the dirtt.dtd somewhere the python xml libraries can access.
(you can use the html link in the sample templates but it will be slow given the validation that
happens) A shared mount makes sense.</p>
<p>Next as you customize the templates you&#8217;ll need to change the reference to this file using urllib
style references. Eg.</p>
<blockquote>
<div><p><tt class="docutils literal"><span class="pre">file:///shared/drive/dtds/dirtt.dtd</span></tt></p>
<p>or</p>
<p><tt class="docutils literal"><span class="pre">http:///intranet/dtds/dirtt.dtd</span></tt></p>
</div></blockquote>
<p>Now write your template using one of the samples. The variables you can define are below:</p>
<dl class="docutils">
<dt>name:</dt>
<dd>This sounds important but does basically nothing. It&#8217;s a human readable name for the XML markup.
The more important <em>basename</em> variable is described below.</dd>
<dt>id:</dt>
<dd>you can assign a static id to an element in your template and then refer to it to create
symbolic links using the <em>idref</em> variable.</dd>
<dt>idref:</dt>
<dd>Use this to reference an id in the same document and create a symbolic link. This value
supersedes a dirname/basename combination when creating symbolic links. I prefer the latter
though as I can see a little more clearly what the link is I&#8217;m creating. It might make sense
in some situations to use IDs if you alot of links defined programatically.</dd>
<dt>basename:</dt>
<dd>this is the directory or file to be created. It&#8217;s the relative path or filename.
eg. subdir/folder OR default.mel</dd>
<dt>dirname:</dt>
<dd>this is the absolute path to the parent directory. For the top-level dirtt element it&#8217;s
required; for all others it&#8217;s optional. It&#8217;s useful for creating one off elements outside
of the tree.</dd>
<dt>perms:</dt>
<dd>This is the posix style permission string that defaults to &#8220;02775&#8221;</dd>
<dt>username:</dt>
<dd>This is the owner user <em>name</em> locally that will programatically be converted to uid.
This allows for flexible gids based on a static name if necessary.
(My testing environment is different so this makes it easier for local testing)</dd>
<dt>group:</dt>
<dd>This is the group <em>name</em> locally that will programatically be converted to gid.</dd>
</dl>
<p>Look at the examples and even try them out locally in your own test environment.</p>
<p>The template placeholders are defined using enclosing double curly braces.</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">Eg.</span> <span class="pre">{{placeholder}}</span></tt></div></blockquote>
<p>The base class does take template variables as a python dictionary but this is something you&#8217;ll
need to explicitly define in your python code. The sample command line tool shows a slightly
crude way of doing this by prompting for values from the user. This is again to make it as generic
as possible. I prefer to have the logic and error-checking in the front end as there&#8217;s a ton
of different scenarios that this could be used for.</p>
<p>The templating class is a direct lift from PasteScript, a much bigger python package and really
only in there because I didn&#8217;t want to have dependencies to Cheetah or need them really.</p>
<p>The sample templates represent a pipeline tree derived from a number of different studios I&#8217;ve worked at.
I&#8217;ve been a part of many directory tree debates over the years so it&#8217;s only an example. Don&#8217;t ask me
for an opinion. For some reason, it&#8217;s a topic of conversation that becomes very personal with supervisors,
artists, TDs, engineers, etc. and because everyone has their own way of doing things, there&#8217;s really no
&#8220;best practice&#8221; model aside from having some system and sticking to it and focusing on automation so the
end user interaction becomes a transparent, search-free experience. Some people like &#8216;products&#8217;, others
like &#8216;show/shot&#8217;, others even like to just focus on &#8216;UPPERCASE&#8217; or &#8216;lowercase&#8217;.</p>
</div>
<div class="section" id="command-line-tool">
<h3><a class="toc-backref" href="#id10">Command Line Tool</a><a class="headerlink" href="#command-line-tool" title="Permalink to this headline">¶</a></h3>
<p>The command line tool was written more to test the library itself but there&#8217;s no
reason it can&#8217;t be used as it is. It doesn&#8217;t have alot of the error checking it probably should have.</p>
<p>The basic usage is:</p>
<blockquote>
<div><tt class="docutils literal"><span class="pre">mkdirt</span> <span class="pre">--template</span> <span class="pre">file:///path/to/xmls/TEMPLATE.xml</span> <span class="pre">--verbose</span> <span class="pre">--interactive</span></tt></div></blockquote>
<p>This command will parse the template file which needs to be defined using a urllib style string. It can
be a file accessible locally or a url. So the template itself could be something that is static data
or dynamically generated. The output will be verbose with the verbose flag. Interactive output as well
with the interactive flag so if you create your templates using the built-in template language this tool
will ask you for values to replace the placeholders.</p>
</div>
</div>
<div class="section" id="links">
<h2><a class="toc-backref" href="#id11">Links</a><a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h2>
<p>Here&#8217;s the links:</p>
<p><a class="reference external" href="https://github.com/mogga/python-dirtt">Github</a></p>
<p><a class="reference external" href="http://opensource.dashing.tv/python-dirtt">Dashing Opensource</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">python-dirtt - Directory Tree Templater</a><ul>
<li><a class="reference internal" href="#status-and-license">Status and License</a></li>
<li><a class="reference internal" href="#what-it-does">What It Does</a></li>
<li><a class="reference internal" href="#contributing">Contributing</a><ul>
<li><a class="reference internal" href="#forking-through-github">Forking through Github</a></li>
<li><a class="reference internal" href="#running-the-tests">Running the tests</a></li>
</ul>
</li>
<li><a class="reference internal" href="#documentation">Documentation</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#xml-schema-templates">XML Schema &amp; Templates</a></li>
<li><a class="reference internal" href="#command-line-tool">Command Line Tool</a></li>
</ul>
</li>
<li><a class="reference internal" href="#links">Links</a></li>
</ul>
</li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="news.html"
                        title="next chapter">Changes &amp; News</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="news.html" title="Changes &amp; News"
             >next</a> |</li>
        <li><a href="#">python-dirtt v0.1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Robert Moggach.
      Last updated on Jul 18, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>